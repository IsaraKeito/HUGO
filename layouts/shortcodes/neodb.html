{{ $dbUrl := .Get 0 }}
{{ $apiUrl := "https://neodb.social/api/me/shelf/item/" }}
{{ $itemUuid := "" }}
{{ $authToken := "" }} <!-- 请替换为你的 API Personal Token -->

<!-- 判断是否为生产环境 -->
{{ if eq (hugo.Environment) "production" }}

    <!-- 解析 item_uuid -->
    {{ if (findRE `.*neodb\.social\/.*\/(.*)` $dbUrl) }}
        {{ $itemUuid = replaceRE `.*neodb\.social\/.*\/(.*)` "$1" $dbUrl }}
    {{ else }}
        <p style="text-align: center;"><small>无效的 URL 格式。</small></p>
        {{ return }}
    {{ end }}

    <!-- 构造 API 请求地址 -->
    {{ $dbApiUrl := print $apiUrl $itemUuid }}
    {{ $headers := dict "Authorization" (print "Bearer " $authToken) }}

    <!-- 获取 API 数据 -->
    {{ $dbFetch := getJSON $dbApiUrl $headers }}

    {{ if $dbFetch }}
        {{ $shelfType := $dbFetch.shelf_type }}
        {{ $category := $dbFetch.item.category }}
        {{ $action := "" }}
        {{ $prefix := "" }}
        {{ $suffix := "" }}
        {{ $displayText := "" }}

        <!-- 根据类别决定动作 -->
        {{ if eq $category "book" }}{{ $action = "读" }}
        {{ else if or (eq $category "tv") (eq $category "movie") (eq $category "performance") }}{{ $action = "看" }}
        {{ else if or (eq $category "podcast") (eq $category "album") }}{{ $action = "听" }}
        {{ else if eq $category "game" }}{{ $action = "玩" }}
        {{ end }}

        <!-- 根据状态决定前后缀 -->
        {{ if eq $shelfType "wishlist" }}{{ $prefix = "想" }}
        {{ else if eq $s
