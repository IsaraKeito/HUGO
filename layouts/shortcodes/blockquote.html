{{ $.Scratch.Set "bl_author" false }}
{{ $.Scratch.Set "bl_source" false }}
{{ $.Scratch.Set "bl_link" false }}
{{ $.Scratch.Set "bl_title" false }}

{{ if .IsNamedParams }}
  {{ $.Scratch.Set "bl_author" (.Get "author") }}
  {{ $.Scratch.Set "bl_source" (.Get "source") }}
  {{ $.Scratch.Set "bl_link" (.Get "link") }}
  {{ $.Scratch.Set "bl_title" (.Get "title") }}
{{ end }}

<!-- 如果未显式设置 bl_title，则根据链接生成默认标题 -->
{{ if not ($.Scratch.Get "bl_title") }}
  {{ with $.Scratch.Get "bl_link" }}
    {{ $.Scratch.Set "bl_title" (truncate (replaceRE "^(https?://(www.)?)" "" .) 32 "…") }}
  {{ end }}
{{ end }}

<blockquote style="border-left: 4px solid #007acc; padding: 10px; background-color: #f9f9f9; font-size: 0.9rem; color: #555;">
  <p>
    本博客所有内容未经作者许可，禁止转载、使用或分发。
    当ブログの内容は、著者の許可なく転載、使用することを禁止します。
    Unauthorized reproduction or redistribution is strictly prohibited.
  </p>
  <footer style="text-align:right">
    {{ with $.Scratch.Get "bl_author" }}
      <strong>{{ . }}</strong>
    {{ end }}
    {{ with $.Scratch.Get "bl_source" }}
      <cite>{{ . }}</cite>
    {{ else if $.Scratch.Get "bl_link" }}
      <cite>
        <a href="{{ $.Scratch.Get "bl_link" }}" title="{{ $.Scratch.Get "bl_link" }}" rel="noopener noreferrer">
          {{ $.Scratch.Get "bl_title" }}
        </a>
      </cite>
    {{ end }}
  </footer>
</blockquote>
